<div class="flex justify-content-between">
  <div>
    <h3>Danh sách đơn hàng</h3>
  </div>
  <!-- <div><p-button icon="pi pi-plus" label="Thêm mới" [outlined]="true" (onClick)="goAddProduct()"/></div> -->
</div>
<p-table [value]="bills()" [tableStyle]="{'min-width': '60rem'}" [rows]="rows()" [paginator]="true" [first]="first()"
  [rowsPerPageOptions]="rowsPerPageOptions" (onPage)="pageChange($event)" [totalRecords]="totalRecords()" [lazy]="true">
  <ng-template pTemplate="header">
    <tr>
      <th class="text-center" style="width: 70px;">STT</th>
      <th class="text-center">Ngày xuất hóa đơn</th>
      <th class="text-center" style="width: 110px;">Tổng tiền</th>
      <th class="text-center" style="width: 200px;">Tổng số sản phẩm</th>
      <th class="text-center" style="width: 200px;">Trạng thái</th>
      <th class="text-center" style="width: 200px;">Hành động</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
    <tr>
      <td class="text-center">{{ rowIndex + 1 }}</td>
      <td class="text-center">{{ item.created_date | date: 'dd-MM-yyyy'}}</td>
      <td class="text-center">{{ item.total | number }} Đ</td>
      <td class="text-center">{{ item.products?.length }}</td>
      <td class="text-center">{{ item.statusText }}</td>
      <td class="text-center">
        <p-button icon="pi pi-pencil" [rounded]="true" [text]="true" (onClick)="onEdit(item.id)"/>
        @if (item.status === 0) {
          <p-button icon="pi pi-check-circle" severity="success" [rounded]="true" [text]="true" (onClick)="onConfirmBill(item.id)"/>
          <p-button icon="pi pi-times-circle" severity="danger" [rounded]="true" [text]="true" (onClick)="conCancel(item.id)"/>
        }
      </td>
    </tr>
  </ng-template>
</p-table>
